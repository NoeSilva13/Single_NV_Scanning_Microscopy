<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="600" fill="#262930"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" fill="#00d4aa" font-size="24" font-weight="bold" font-family="Arial, sans-serif">
    Rabi Oscillation Pulse Sequence - Parameter Guide
  </text>
  
  <!-- Time axis -->
  <line x1="80" y1="500" x2="920" y2="500" stroke="#ffffff" stroke-width="2"/>
  <text x="500" y="520" text-anchor="middle" fill="#ffffff" font-size="14" font-family="Arial, sans-serif">Time →</text>
  
  <!-- Channel labels -->
  <text x="50" y="130" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">Laser</text>
  <text x="50" y="145" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">(AOM)</text>
  
  <text x="50" y="230" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">Microwave</text>
  <text x="50" y="245" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">(MW)</text>
  
  <text x="50" y="330" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">SPD</text>
  <text x="50" y="345" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">Detection</text>
  
  <text x="50" y="430" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">NV</text>
  <text x="50" y="445" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Arial, sans-serif">Population</text>
  
  <!-- Timeline markers -->
  <g fill="#cccccc" font-size="12" font-family="Arial, sans-serif">
    <line x1="120" y1="495" x2="120" y2="505" stroke="#cccccc"/>
    <text x="120" y="540" text-anchor="middle">0</text>
    
    <line x1="270" y1="495" x2="270" y2="505" stroke="#cccccc"/>
    <text x="270" y="540" text-anchor="middle">1000</text>
    
    <line x1="370" y1="495" x2="370" y2="505" stroke="#cccccc"/>
    <text x="370" y="540" text-anchor="middle">2000</text>
    
    <line x1="470" y1="495" x2="470" y2="505" stroke="#cccccc"/>
    <text x="470" y="540" text-anchor="middle">2000+τ</text>
    
    <line x1="670" y1="495" x2="670" y2="505" stroke="#cccccc"/>
    <text x="670" y="540" text-anchor="middle">2500+τ</text>
    
    <text x="500" y="560" text-anchor="middle" fill="#cccccc" font-size="10">Time (ns) - τ = Variable MW Duration</text>
  </g>
  
  <!-- Laser pulse -->
  <rect x="120" y="100" width="150" height="60" fill="#ff6b6b" fill-opacity="0.8" stroke="#ff6b6b" stroke-width="2"/>
  <text x="195" y="135" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">INITIALIZATION</text>
  
  <!-- Wait period -->
  <rect x="270" y="100" width="100" height="60" fill="none" stroke="#666666" stroke-width="1" stroke-dasharray="5,5"/>
  <text x="320" y="135" text-anchor="middle" fill="#cccccc" font-size="10">WAIT</text>
  
  <!-- Variable MW pulse -->
  <rect x="370" y="200" width="100" height="60" fill="#9c27b0" fill-opacity="0.8" stroke="#9c27b0" stroke-width="2"/>
  <text x="420" y="235" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="bold">VARIABLE</text>
  <text x="420" y="250" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="bold">MW</text>
  
  <!-- Small delay -->
  <rect x="470" y="200" width="50" height="60" fill="none" stroke="#666666" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="495" y="235" text-anchor="middle" fill="#cccccc" font-size="9">DELAY</text>
  
  <!-- SPD Detection window -->
  <rect x="520" y="300" width="150" height="60" fill="#45b7d1" fill-opacity="0.8" stroke="#45b7d1" stroke-width="2"/>
  <text x="595" y="335" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">DETECTION</text>
  
  <!-- NV Population visualization -->
  <rect x="120" y="400" width="150" height="60" fill="#ffa726" fill-opacity="0.8" stroke="#ffa726" stroke-width="2"/>
  <text x="195" y="435" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="bold">ALL GROUND</text>
  
  <rect x="270" y="400" width="100" height="60" fill="#66bb6a" fill-opacity="0.6" stroke="#66bb6a" stroke-width="2"/>
  <text x="320" y="435" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="bold">RELAX</text>
  
  <rect x="370" y="400" width="150" height="60" fill="#e91e63" fill-opacity="0.8" stroke="#e91e63" stroke-width="2"/>
  <text x="445" y="430" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="bold">OSCILLATING</text>
  <text x="445" y="445" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="bold">POPULATION</text>
  
  <rect x="520" y="400" width="150" height="60" fill="#ef5350" fill-opacity="0.8" stroke="#ef5350" stroke-width="2"/>
  <text x="595" y="435" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="bold">MEASURE</text>
  
  <!-- Parameter annotations -->
  <!-- Laser Duration -->
  <g>
    <line x1="120" y1="80" x2="270" y2="80" stroke="#00d4aa" stroke-width="2"/>
    <line x1="120" y1="75" x2="120" y2="85" stroke="#00d4aa" stroke-width="2"/>
    <line x1="270" y1="75" x2="270" y2="85" stroke="#00d4aa" stroke-width="2"/>
    <text x="195" y="70" text-anchor="middle" fill="#00d4aa" font-size="12" font-weight="bold">Laser Duration</text>
    <text x="195" y="58" text-anchor="middle" fill="#00d4aa" font-size="10">(default: 1000 ns)</text>
  </g>
  
  <!-- MW Delay -->
  <g>
    <line x1="270" y1="280" x2="370" y2="280" stroke="#ff9800" stroke-width="2"/>
    <line x1="270" y1="275" x2="270" y2="285" stroke="#ff9800" stroke-width="2"/>
    <line x1="370" y1="275" x2="370" y2="285" stroke="#ff9800" stroke-width="2"/>
    <text x="320" y="270" text-anchor="middle" fill="#ff9800" font-size="12" font-weight="bold">MW Delay</text>
    <text x="320" y="295" text-anchor="middle" fill="#ff9800" font-size="10">(auto: laser + 1000 ns)</text>
  </g>
  
  <!-- Variable MW Duration -->
  <g>
    <line x1="370" y1="180" x2="470" y2="180" stroke="#ffeb3b" stroke-width="3"/>
    <line x1="370" y1="175" x2="370" y2="185" stroke="#ffeb3b" stroke-width="3"/>
    <line x1="470" y1="175" x2="470" y2="185" stroke="#ffeb3b" stroke-width="3"/>
    <text x="420" y="170" text-anchor="middle" fill="#ffeb3b" font-size="14" font-weight="bold">Variable MW Duration (τ)</text>
    <text x="420" y="195" text-anchor="middle" fill="#ffeb3b" font-size="11">Start: 0 ns, Stop: 200 ns, Step: 5 ns</text>
  </g>
  
  <!-- Detection Duration -->
  <g>
    <line x1="520" y1="380" x2="670" y2="380" stroke="#00d4aa" stroke-width="2"/>
    <line x1="520" y1="375" x2="520" y2="385" stroke="#00d4aa" stroke-width="2"/>
    <line x1="670" y1="375" x2="670" y2="385" stroke="#00d4aa" stroke-width="2"/>
    <text x="595" y="370" text-anchor="middle" fill="#00d4aa" font-size="12" font-weight="bold">Detection Duration</text>
    <text x="595" y="395" text-anchor="middle" fill="#00d4aa" font-size="10">(default: 500 ns)</text>
  </g>
  
  <!-- Parameter explanation box -->
  <rect x="720" y="80" width="260" height="240" fill="#3c3c3c" stroke="#00d4aa" stroke-width="2" rx="5"/>
  <text x="850" y="100" text-anchor="middle" fill="#00d4aa" font-size="14" font-weight="bold">Key Parameters</text>
  
  <g fill="#ffffff" font-size="11" font-family="Arial, sans-serif">
    <text x="730" y="125">• MW Frequency (GHz):</text>
    <text x="740" y="140">  Fixed at NV resonance (~2.87)</text>
    
    <text x="730" y="160">• Start Duration (ns):</text>
    <text x="740" y="175">  Beginning of MW pulse sweep</text>
    
    <text x="730" y="195">• Stop Duration (ns):</text>
    <text x="740" y="210">  End of MW pulse sweep</text>
    
    <text x="730" y="230">• Step Size (ns):</text>
    <text x="740" y="245">  MW duration resolution</text>
    
    <text x="730" y="265">• MW Power (dBm):</text>
    <text x="740" y="280">  Rabi driving strength</text>
    
    <text x="730" y="300" fill="#ffeb3b">π-pulse ≈ half oscillation period</text>
    <text x="730" y="315" fill="#ffeb3b">π/2-pulse ≈ quarter period</text>
  </g>
  
  <!-- Rabi oscillation visualization -->
  <g>
    <text x="750" y="50" text-anchor="middle" fill="#ffeb3b" font-size="12" font-weight="bold">Expected Result:</text>
    <text x="750" y="65" text-anchor="middle" fill="#ffffff" font-size="10">Population oscillates with MW duration</text>
  </g>
  
  <!-- Sequence explanation -->
  <rect x="100" y="50" width="400" height="25" fill="#4a4a4a" stroke="#888888" stroke-width="1" rx="3"/>
  <text x="300" y="67" text-anchor="middle" fill="#ffffff" font-size="11">Sequence: Laser Init → Wait → Variable MW → Detect Population</text>
</svg> 